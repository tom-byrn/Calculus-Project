<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Document</title>
  <link href="/static/graph_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>


  <!-- Contain Displays & Forms -->
<div id="container"></div>

  <!-- Dislpays -->
  <div id="display-container">
    <div class="display" id ="display" contenteditable="false">f(x) = {{display_equation}}</div>
    <div class="display" id ="display" contenteditable="false">f'(x) = {{display_differential_equation}}</div>
    <div class="display" id ="display" contenteditable="false">âˆ«f(x) dx = {{display_integral_equation}}</div>
    <div class="display" id ="display" contenteditable="false">Area Under Curve = {{area_under_curve}}</div>

  <!-- Form to get hb & lb from user -->
  <form class="form" action="{{ url_for('define_graph') }}" method="post"> 
    <label for="lb">Boundary Range:</label>
    <input type="number" name="lb">
    <label for="hb">-</label>
    <input type="number" name="hb">
    <input type="submit" value="Go">
  </form>


  <!--  INPUT IMAGE HERE -->
  <img src = "{{ url_for('static', filename='image/graph.png') }}" class="centre">



  <!-- Download the Graph -->
  <div id="button_container"></div>
    <button class="btn" onclick="downloadGraph()"> Download Graph</button>
    <button class="btn" onclick="returnToCalc()"> Back to Calculator</button>

<script>
function returnToCalc() {
  console.log("Returning to '/' ");
  window.location.href="/";
}

function downloadGraph() {
  console.log("Downloading Graph");
  var link = document.createElement('a');
  link.href = "static/image/graph.png";
  link.download= "graph.png";
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);
}
</script>
</body>

</html>